<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LILITH STT v3 (V1010)</title>
    <style>
        :root { --bg: #0f172a; --card: #1e293b; --text: #f8fafc; --accent: #3b82f6; --success: #22c55e; }
        body { font-family: sans-serif; background: var(--bg); color: var(--text); padding: 16px; display: flex; flex-direction: column; height: 100vh; margin: 0; box-sizing: border-box; }
        .app-container { max-width: 600px; width: 100%; margin: 0 auto; background: var(--card); padding: 20px; border-radius: 12px; display: flex; flex-direction: column; gap: 12px; flex-grow: 1; }
        #transcription-area { flex-grow: 1; background: rgba(0,0,0,0.2); border: 1px solid #334155; padding: 12px; overflow-y: auto; position: relative; }
        .controls { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
        button { padding: 12px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; }
        #start-btn { background: var(--success); color: white; }
        #stop-btn { background: #ef4444; color: white; }
        #activity-log { height: 100px; overflow-y: auto; font-size: 0.7rem; font-family: monospace; background: black; padding: 8px; border-radius: 4px; }
    </style>
</head>
<body>
    <div class="app-container">
        <h1>LILITH STT v3 (V1010)</h1>
        <div id="status">Status: Initializing...</div>
        <div id="transcription-area">
            <span id="final-text"></span>
            <div id="placeholder">話し始めるとここに文字が表示されます...</div>
        </div>
        <div style="height: 4px; background: #334155;"><div id="volume-bar" style="width:0%; height:100%; background:var(--success);"></div></div>
        <div class="controls">
            <button id="start-btn">開始</button>
            <button id="stop-btn" disabled>停止</button>
            <button id="copy-log-btn" style="background:#475569; color:white;">コピー</button>
            <button id="download-log-btn" style="background:#475569; color:white;">保存</button>
        </div>
        <div id="activity-log"></div>
    </div>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.getRegistrations().then(regs => regs.forEach(r => r.unregister()));
        }
    </script>
    <script type="module" src="src/main-v1010.js"></script>
</body>
</html>
